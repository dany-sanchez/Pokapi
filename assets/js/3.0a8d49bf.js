(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{202:function(e,t){e.exports="data:image/jpeg;base64,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"},203:function(e,t,s){e.exports=s.p+"assets/img/checkstyle.1f8fa2a4.jpg"},204:function(e,t,s){e.exports=s.p+"assets/img/git_flow.56b27aed.jpg"},205:function(e,t,s){e.exports=s.p+"assets/img/commit.c8284507.jpg"},206:function(e,t,s){e.exports=s.p+"assets/img/github.94b5ad54.jpg"},207:function(e,t,s){e.exports=s.p+"assets/img/sonarcloud.bd0bbc13.jpg"},208:function(e,t,s){e.exports=s.p+"assets/img/codecov.176a6ba6.jpg"},209:function(e,t,s){e.exports=s.p+"assets/img/checks.23b6e950.jpg"},210:function(e,t,s){e.exports=s.p+"assets/img/requete.f0fe4b67.jpg"},211:function(e,t,s){e.exports=s.p+"assets/img/sonarqube.ba368d0a.jpg"},212:function(e,t,s){e.exports=s.p+"assets/img/prom.a1c10167.jpg"},213:function(e,t,s){e.exports=s.p+"assets/img/grafana.14cd8af5.jpg"},222:function(e,t,s){"use strict";s.r(t);var r=s(0),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"nouveau-developpeur"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nouveau-developpeur"}},[e._v("#")]),e._v(" Nouveau développeur")]),e._v(" "),r("h2",{attrs:{id:"prerequis"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prerequis"}},[e._v("#")]),e._v(" Prérequis")]),e._v(" "),r("p",[e._v("Avant de commencer, les outils suivant sont nécessaires :")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("Nom")]),e._v(" "),r("th",[e._v("Version")]),e._v(" "),r("th",[e._v("URL")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("Maven")]),e._v(" "),r("td",[e._v("3.3+")]),e._v(" "),r("td",[e._v("http://maven.apache.org/download.cgi")])]),e._v(" "),r("tr",[r("td",[e._v("JDK")]),e._v(" "),r("td",[e._v("8+")]),e._v(" "),r("td",[e._v("https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html")])]),e._v(" "),r("tr",[r("td",[e._v("Git")]),e._v(" "),r("td",[e._v("-")]),e._v(" "),r("td",[e._v("-")])]),e._v(" "),r("tr",[r("td",[e._v("Eclipse/IntelliJ")]),e._v(" "),r("td",[e._v("-")]),e._v(" "),r("td",[e._v("https://www.jetbrains.com/idea/")])]),e._v(" "),r("tr",[r("td",[e._v("Compte Github")]),e._v(" "),r("td",[e._v("-")]),e._v(" "),r("td",[e._v("-")])]),e._v(" "),r("tr",[r("td",[e._v("Compte Jenkins")]),e._v(" "),r("td",[e._v("-")]),e._v(" "),r("td",[e._v("Fourni par les mainteneurs")])])])]),e._v(" "),r("p",[e._v("Tous les identifiants pour chacun de services que vous verrez ici sont :")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("Identifiant")]),e._v(" "),r("th",[e._v("Mot de passe")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("admin")]),e._v(" "),r("td",[e._v("admin")])])])]),e._v(" "),r("p",[e._v("Cela sera amené à changer (Voir "),r("a",{attrs:{href:"https://github.com/h-wb/Pokapi/issues/33",target:"_blank",rel:"noopener noreferrer"}},[e._v("Issue #33"),r("OutboundLink")],1),e._v(")")]),e._v(" "),r("h2",{attrs:{id:"pour-commencer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pour-commencer"}},[e._v("#")]),e._v(" Pour commencer")]),e._v(" "),r("p",[e._v("Clonez le dépot :")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/h-wb/Pokapi.git\n")])])]),r("p",[e._v("Rendez vous dans le répértoire ou le repository a été cloné puis installer le projet :")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("mvn clean "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n")])])]),r("p",[e._v("Vous êtes désormais prêt à développer sur l'application.")]),e._v(" "),r("h2",{attrs:{id:"outils-complementaires"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#outils-complementaires"}},[e._v("#")]),e._v(" Outils complémentaires")]),e._v(" "),r("p",[e._v("Afin d'améliorer l'expérience de développement et la qualité du code, plusieurs plugins sont nécessaires.")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("Checkstyle : permet d'indiquer les erreurs ne suivant pas le standard de codage défini. Ici la convention suivie est celle de "),r("a",{attrs:{href:"https://checkstyle.org/sun_style.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sun"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Findbugs : permet de trouver les bugs")])])]),e._v(" "),r("h3",{attrs:{id:"intellij"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#intellij"}},[e._v("#")]),e._v(" IntelliJ")]),e._v(" "),r("p",[e._v("Rendez vous dans File > Settings > Plugins et installez les plugins.")]),e._v(" "),r("p",[r("img",{attrs:{src:s(202),alt:"Plugins"}})]),e._v(" "),r("p",[e._v("Après l'installation, redémarrez votre IDE.")]),e._v(" "),r("h4",{attrs:{id:"checkstyle"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#checkstyle"}},[e._v("#")]),e._v(" Checkstyle")]),e._v(" "),r("p",[e._v("Pour utiliser le plugin checkstyle : Analyze > Inspect Code, les erreurs s'afficheront alors sur votre console")]),e._v(" "),r("p",[r("img",{attrs:{src:s(203),alt:"checkstyle"}})]),e._v(" "),r("h4",{attrs:{id:"findbugs"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#findbugs"}},[e._v("#")]),e._v(" Findbugs")]),e._v(" "),r("p",[e._v("Pour utiliser le plugin findbugs : Analyze > FindBugs > Analyze Project Files")]),e._v(" "),r("h3",{attrs:{id:"eclipse"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#eclipse"}},[e._v("#")]),e._v(" Eclipse")]),e._v(" "),r("p",[r("em",[e._v("Prochainement")])]),e._v(" "),r("h2",{attrs:{id:"lancer-l-application"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#lancer-l-application"}},[e._v("#")]),e._v(" Lancer l'application")]),e._v(" "),r("p",[e._v("Pour lancer l'application on utilise :")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("mvn spring-boot:run\n")])])]),r("p",[e._v("Ou on lance via IntelliJ ou Eclipse.")]),e._v(" "),r("p",[e._v("L'application sera alors disponible sur "),r("a",{attrs:{href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:8080"),r("OutboundLink")],1),e._v(", la documentation swagger sur "),r("a",{attrs:{href:"http://localhost:8080/swagger-ui.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:8080/swagger-ui.html"),r("OutboundLink")],1),e._v("\net Sprint Boot Admin sur "),r("a",{attrs:{href:"localhost:8080/admin"}},[e._v("http://localhost:8080/admin")]),e._v(" (voir "),r("a",{attrs:{href:"#spring-boot-admin"}},[e._v("Spring Boot Admin")]),e._v(")")]),e._v(" "),r("h2",{attrs:{id:"pratique-de-developpement"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pratique-de-developpement"}},[e._v("#")]),e._v(" Pratique de développement")]),e._v(" "),r("h3",{attrs:{id:"gitflow"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gitflow"}},[e._v("#")]),e._v(" GitFlow")]),e._v(" "),r("p",[r("strong",[e._v("develop")]),e._v(" est la branche principale.")]),e._v(" "),r("p",[e._v("Lors d'un nouveau développement, il est nécessaire d'ouvrir une branche "),r("strong",[e._v("feature")]),e._v(".\nChaque nouvelle feature a sa propre branche.")]),e._v(" "),r("p",[e._v("Les branches terminées sont mergées dans "),r("strong",[e._v("develop")]),e._v(" quand elles sont prêtes.\nUne "),r("strong",[e._v("pull request")]),e._v(" est alors ouverte, permettant une revue de code avant validation.\nUne fois la "),r("strong",[e._v("pull request")]),e._v(" validée, la branche est mergée dans "),r("strong",[e._v("develop")]),e._v(" puis supprimée.")]),e._v(" "),r("p",[e._v("Lors d'une livraison, une branche "),r("strong",[e._v("release")]),e._v(" est créée depuis la branche "),r("strong",[e._v("develop")]),e._v(", les corrections y seront faites.\nLes versions finales sont mergées dans "),r("strong",[e._v("master")]),e._v(" et taguées.")]),e._v(" "),r("p",[e._v("Les corrections critiques sont effectuées dans la branche "),r("strong",[e._v("hotfix")]),e._v(".\nElles sont mergées dans "),r("strong",[e._v("develop")]),e._v(" et sont mergées et taguées dans "),r("strong",[e._v("master")]),e._v(".")]),e._v(" "),r("p",[r("img",{attrs:{src:s(204),alt:"sonarqube"}})]),e._v(" "),r("h3",{attrs:{id:"verification"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#verification"}},[e._v("#")]),e._v(" Vérification")]),e._v(" "),r("p",[e._v("Après avoir écris du code, on vérifie qu'il n'y a pas de régression :")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("mvn verify\n")])])]),r("p",[e._v("Cette commande va vérifier que les tests fonctionnent (Dans l'absolu, cela sera vérifié par la "),r("a",{attrs:{href:"#travis"}},[e._v("PIC de test")]),e._v(" avant de pouvoir merge le code sur develop). Elle va également vérifier que le checkstyle est\nrespécté, dans le cas contraire le verify fail (en 0.2.0 uniquement : Voir "),r("a",{attrs:{href:"https://github.com/h-wb/Pokapi/issues/26",target:"_blank",rel:"noopener noreferrer"}},[e._v("Issue #26"),r("OutboundLink")],1),e._v(").")]),e._v(" "),r("h3",{attrs:{id:"commit"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#commit"}},[e._v("#")]),e._v(" Commit")]),e._v(" "),r("p",[e._v("Pour commit, on utilisera :")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit\n")])])]),r("p",[e._v("Votre console vous demandera alors de choisir un gitmoji (suivant "),r("a",{attrs:{href:"https://gitmoji.carloscuesta.me/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cette convention"),r("OutboundLink")],1),e._v(")")]),e._v(" "),r("p",[r("img",{attrs:{src:s(205),alt:"sonarqube"}})]),e._v(" "),r("p",[e._v("Puis on pushera sur la branche correspondante (feature, hotfix, ... en respectant le "),r("a",{attrs:{href:"#gitflow"}},[e._v("GitFlow")]),e._v(")")]),e._v(" "),r("p",[e._v("Chaque commit sera notifié dans le channel #github du "),r("a",{attrs:{href:"https://discord.gg/9J8avy",target:"_blank",rel:"noopener noreferrer"}},[e._v("Discord"),r("OutboundLink")],1),e._v(" pour permettre de prevenir les reviewers.")]),e._v(" "),r("p",[r("img",{attrs:{src:s(206),alt:"sonarqube"}})]),e._v(" "),r("h3",{attrs:{id:"pull-request"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pull-request"}},[e._v("#")]),e._v(" Pull Request")]),e._v(" "),r("p",[e._v("Après avoir push sur votre branche, vous pourrez faire une demande du pull request. Cette pull request sera vérifiée par la "),r("a",{attrs:{href:"#travis"}},[e._v("PIC de test")]),e._v(" avec différents outils qui vous notifieront sur cette même\nPR.")]),e._v(" "),r("ul",[r("li",[e._v("Sonarqube : qui va indiquer les bugs, vulnérabilités et code smell")])]),e._v(" "),r("p",[r("img",{attrs:{src:s(207),alt:"sonarqube"}})]),e._v(" "),r("ul",[r("li",[e._v("Codecov : qui va indiquer la différence de coverage entre votre branche et la branche develop")])]),e._v(" "),r("p",[r("img",{attrs:{src:s(208),alt:"sonarqube"}})]),e._v(" "),r("p",[e._v("Enfin, votre PR sera résumé par les checks :")]),e._v(" "),r("p",[r("img",{attrs:{src:s(209),alt:"sonarqube"}})]),e._v(" "),r("p",[e._v("Elles indiquent le résultat du build de la "),r("a",{attrs:{href:"#travis"}},[e._v("PIC de test")]),e._v(". Ici la "),r("a",{attrs:{href:"#travis"}},[e._v("PIC de test")]),e._v(" vérifie que les tests fonctionnent, dans le cas contraire elle retourne un échec.")]),e._v(" "),r("p",[r("strong",[e._v("Si votre PR a des checks en échec, il y a très peu de change qu'elle soit merge en develop.")])]),e._v(" "),r("h3",{attrs:{id:"post-merge"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#post-merge"}},[e._v("#")]),e._v(" Post merge")]),e._v(" "),r("p",[e._v("Après votre merge, vous pouvez vérifiez que tout va bien grâce aux outils de "),r("a",{attrs:{href:"#supervision"}},[e._v("supervision")]),e._v(" de la "),r("a",{attrs:{href:"#jenkins"}},[e._v("PIC de recette")]),e._v(" et que l'application est bien déployée ("),r("a",{attrs:{href:"https://groupe3.m2gi.win/app/swagger-ui.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://groupe3.m2gi.win/swagger-ui.html"),r("OutboundLink")],1),e._v(")")]),e._v(" "),r("h2",{attrs:{id:"documentation"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#documentation"}},[e._v("#")]),e._v(" Documentation")]),e._v(" "),r("p",[e._v("La documentation actuelle est située dans le dossier docs du repository. Sa configuration est située dans .vuepress/config.js. Pour ajouter une page de documentation, on édite le fichier\n.vuepress/config.js. Le dossier api est généré automatiquement par swagger et sa documentation est créée par les annotations spring.")]),e._v(" "),r("p",[e._v("Example :")]),e._v(" "),r("p",[r("img",{attrs:{src:s(210),alt:"sonarqube"}})]),e._v(" "),r("p",[e._v("Elle est générée et déployée sur la branche "),r("em",[e._v("gh-pages")]),e._v(" du repository automatiquement par la "),r("a",{attrs:{href:"#travis"}},[e._v("PIC de test")]),e._v(".")]),e._v(" "),r("h2",{attrs:{id:"pic-s"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pic-s"}},[e._v("#")]),e._v(" PIC(s)")]),e._v(" "),r("h3",{attrs:{id:"travis"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#travis"}},[e._v("#")]),e._v(" Travis")]),e._v(" "),r("p",[e._v("Travis ("),r("strong",[e._v("PIC de test")]),e._v(") lance un build de l'application à chaque nouvelle Pull Request. Il permet de vérifier que les tests fonctionnent ou non\net d'en informer le développeur. Il est également responsable du déploiement de la documentation statique.")]),e._v(" "),r("p",[e._v("Il est utilisé car son intégration est très simple et efficace avec Github.")]),e._v(" "),r("p",[e._v("Son interface est disponible "),r("a",{attrs:{href:"https://travis-ci.com/h-wb/Pokapi",target:"_blank",rel:"noopener noreferrer"}},[e._v("ici"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("h3",{attrs:{id:"jenkins"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[e._v("#")]),e._v(" Jenkins")]),e._v(" "),r("p",[e._v("Jenkins ("),r("strong",[e._v("PIC de recette")]),e._v(") lance un build de l'application à chaque nouveau commit. Il ne devrait à priori jamais avoir à lancer manuellement de job.\nCependant, si cela est nécessaire cela peut être fait via l'interface "),r("a",{attrs:{href:"https://jenkins.m2gi.win/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jenkins"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("ul",[r("li",[e._v("Cliquez sur le projet "),r("strong",[e._v("Pokapi")])]),e._v(" "),r("li",[e._v("Cliquez sur "),r("strong",[e._v("Lancer un build")])]),e._v(" "),r("li",[e._v("Cliquez sur le dernier build lancé (indiqué par le chiffre le plus élévé, représentant le numéro de build)")]),e._v(" "),r("li",[e._v("Cliquez sur Console Output pour voir le déroulement du build")])]),e._v(" "),r("p",[r("strong",[e._v("Si le build n'est pas en succès, veuillez ouvrir une issue et indiquez l'erreur ou faites une pull request.")])]),e._v(" "),r("h2",{attrs:{id:"supervision"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#supervision"}},[e._v("#")]),e._v(" Supervision")]),e._v(" "),r("p",[e._v("Afin de superviser l'application après un commit sur develop, plusieurs outils sont à votre disposition :")]),e._v(" "),r("h3",{attrs:{id:"sonarqube"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#sonarqube"}},[e._v("#")]),e._v(" Sonarqube")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://sonarqube.m2gi.win/dashboard?id=gp%3APokapi",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sonarqube"),r("OutboundLink")],1),e._v(" permet d'indiquer les bugs, les failles de sécurité, la dette technique et la couverture de code.\nLe standard de qualité de ce projet nécessite qu'il n'y ait aucune vulnérabilité et une couverture de plus de 80%.")]),e._v(" "),r("p",[r("img",{attrs:{src:s(211),alt:"sonarqube"}})]),e._v(" "),r("p",[r("strong",[e._v("Bien qu'il y ait des vérifications préalable. Si des regressions sont amenés sur l'environnement de recette, veuillez ouvrir une issue et indiquez l'erreur ou faites une pull request.")])]),e._v(" "),r("h3",{attrs:{id:"prometheus"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prometheus"}},[e._v("#")]),e._v(" Prometheus")]),e._v(" "),r("p",[e._v("Prometheus permet de récuperer des informations de l'application spring et de la machine ("),r("em",[e._v("ressources utilisées, nombre de requêtes envoyées, ...")]),e._v(")\nSon but premier est de fournir les informations à "),r("a",{attrs:{href:"#grafana"}},[e._v("Grafana")]),e._v(" qui va être notre outils de supervision principal.\nCependant, l'interface est tout de même disponible temporairement "),r("a",{attrs:{href:"http://m2gi.win:9090/graph",target:"_blank",rel:"noopener noreferrer"}},[e._v("ici"),r("OutboundLink")],1),e._v(" (et également "),r("a",{attrs:{href:"https://groupe3.m2gi.win/prom/new/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ici"),r("OutboundLink")],1),e._v(" : voir "),r("a",{attrs:{href:"https://github.com/h-wb/Pokapi/issues/25",target:"_blank",rel:"noopener noreferrer"}},[e._v("Issue #25"),r("OutboundLink")],1),e._v(")")]),e._v(" "),r("p",[r("img",{attrs:{src:s(212),alt:"prom"}})]),e._v(" "),r("p",[r("strong",[e._v("Pour vérifier que l'application spring répond bien, vérifiez son état "),r("a",{attrs:{href:"http://m2gi.win:9090/targets",target:"_blank",rel:"noopener noreferrer"}},[e._v("ici"),r("OutboundLink")],1)])]),e._v(" "),r("h3",{attrs:{id:"grafana"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#grafana"}},[e._v("#")]),e._v(" Grafana")]),e._v(" "),r("p",[e._v("Grafana est un outil qui permet de visualiser les informations envoyées par prometheus sous forme de différent graphe. Il est l'outil le plus vital pour l'environnement de recette car\nil permet d'afficher des informations importantes de façon très visuelle et indicative. Si le dernier déploiement de l'application a un impact sur les performances de l'application, Grafana sera l'indicateur principal.")]),e._v(" "),r("p",[e._v("Pour accéder à l'interface, rendez vous temporairement "),r("a",{attrs:{href:"http://m2gi.win:9092",target:"_blank",rel:"noopener noreferrer"}},[e._v("ici"),r("OutboundLink")],1),e._v(" (et également "),r("a",{attrs:{href:"https://groupe3.m2gi.win/grafana/login",target:"_blank",rel:"noopener noreferrer"}},[e._v("ici"),r("OutboundLink")],1),e._v(": voir "),r("a",{attrs:{href:"https://github.com/h-wb/Pokapi/issues/25",target:"_blank",rel:"noopener noreferrer"}},[e._v("Issue #25"),r("OutboundLink")],1),e._v("). Vous pouvez également accéder au dashboard utilisé\npour l'application spring "),r("a",{attrs:{href:"http://m2gi.win:9092/d/spring_boot_21/spring-boot-2-1-statistics?orgId=1",target:"_blank",rel:"noopener noreferrer"}},[e._v("ici"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("img",{attrs:{src:s(213),alt:"prom"}})]),e._v(" "),r("p",[r("strong",[e._v("Si un des indicateurs dépasse le seuil limite (généralement signalé par la couleur rouge), il est important de le signaler. Ici les informations vitales vont être le "),r("em",[e._v("CPU Usage")]),e._v(", le "),r("em",[e._v("Memory Allocate")]),e._v(", le "),r("em",[e._v("Response Time")]),e._v(", et les "),r("em",[e._v("Logback Statistics")]),e._v(". Elles determinent si l'application répond bien et s'il n'y a pas d'erreur")])]),e._v(" "),r("h3",{attrs:{id:"spring-boot-admin"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#spring-boot-admin"}},[e._v("#")]),e._v(" Spring Boot Admin")]),e._v(" "),r("p",[e._v("Spring Boot Admin permet également de récuperer les informations envoyées par prometheus. Elle est disponible "),r("a",{attrs:{href:"https://groupe3.m2gi.win/admin",target:"_blank",rel:"noopener noreferrer"}},[e._v("ici"),r("OutboundLink")],1),e._v(".\nElle est disponible dans un contexte local ("),r("a",{attrs:{href:"localhost:8080/admin"}},[e._v("localhost:8080/admin")]),e._v(") pour avoir des informations avant de commit du code, notamment :")]),e._v(" "),r("ul",[r("li",[e._v("Les métriques (Aperçus > Métriques)")]),e._v(" "),r("li",[e._v("Les listes de variables d'environnement (Aperçus > Environnement)")]),e._v(" "),r("li",[e._v("Les propriétes de configurations (Aperçus > Propriétés de configuration)")]),e._v(" "),r("li",[e._v("La priorité des logs (Loggers)")])]),e._v(" "),r("p",[r("strong",[e._v("Si l'application Spring n'est pas visible sur Spring Boot Admin, veuillez ouvrir une issue et indiquez l'erreur ou faites une pull request.")])]),e._v(" "),r("h2",{attrs:{id:"tests"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#tests"}},[e._v("#")]),e._v(" Tests")]),e._v(" "),r("h3",{attrs:{id:"cucumber"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cucumber"}},[e._v("#")]),e._v(" Cucumber")]),e._v(" "),r("p",[e._v("Plusieurs étapes sont nécessaire à l'élaboration de tests avec "),r("strong",[e._v("Cucumber")])]),e._v(" "),r("h4",{attrs:{id:"ecrire-un-scenario"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ecrire-un-scenario"}},[e._v("#")]),e._v(" Écrire un scénario")]),e._v(" "),r("p",[e._v("La première étape consiste à écrire un scénario, nommé par exemple "),r("code",[e._v("src/test/resources/sommes_nous_vendredi.feature")]),e._v(".")]),e._v(" "),r("p",[e._v("Le contenu de ce scénario pourrait être :")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("Feature: Sommes-nous vendredi ?\n\n  Tout le monde veut savoir quand c'est vendredi\n\n  Scenario: Dimanche n'est pas vendredi\n    Given Aujourd'hui nous sommes dimanche\n    When  Je demande si c'est vendredi\n    Then  Je devrais obtenir la réponse \"non\"\n")])])]),r("p",[e._v("Maintenant que les scénarios sont prêts, utiliser la commande "),r("code",[e._v("mvn test")]),e._v(" nous permet d'obtenir les fonctions de test manquantes préparées.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('You can implement missing steps with the snippets below:\n\n@Given("Aujourd\'hui nous sommes dimanche")\npublic void aujourd_hui_nous_sommes_dimanche() {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n\n@When("Je demande si c\'est vendredi")\npublic void je_demande_si_c_est_vendredi() {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n\n@Then("Je devrais obtenir la réponse {string}")\npublic void je_devrais_obtenir_la_reponse(String string) {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n')])])]),r("h4",{attrs:{id:"completer-les-tests"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#completer-les-tests"}},[e._v("#")]),e._v(" Compléter les tests")]),e._v(" "),r("p",[e._v("Maintenant que les tests sont prêts, ils faut les compléter pour les faire passer.")]),e._v(" "),r("p",[e._v("Par exemple :")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('class SommesNousVendredi {\n    static String sommesNousVendredi(String today) {\n        return "vendredi".equals(today) ? "oui" : "non";\n    }\n}\n\npublic class Stepdefs {\n    private String today;\n    private String actualAnswer;\n\n    @Given("Aujourd\'hui nous sommes dimanche")\n    public void aujourd_hui_nous_sommes_dimanche() {\n        today = "dimanche";\n    }\n    \n    @When("Je demande si c\'est vendredi")\n    public void je_demande_si_c_est_vendredi() {\n        actualAnswer = SommesNousVendredi.sommesNousVendredi(today);\n    }\n    \n    @Then("Je devrais obtenir la réponse {string}")\n    public void je_devrais_obtenir_la_reponse(String string) {\n        assertEquals(expectedAnswer, actualAnswer);\n    }\n}\n')])])]),r("h3",{attrs:{id:"mockito"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mockito"}},[e._v("#")]),e._v(" Mockito")]),e._v(" "),r("p",[r("strong",[e._v("Mockito")]),e._v(" permet de générer automatiquement des objets "),r("em",[e._v("mockés")]),e._v(".\nIl permet de tester le comportement des objets réels associés à un ou des objets "),r("em",[e._v("mockés")]),e._v(" facilitant ainsi l'écriture des tests unitaires.")]),e._v(" "),r("h4",{attrs:{id:"integration-dans-les-tests"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#integration-dans-les-tests"}},[e._v("#")]),e._v(" Intégration dans les tests")]),e._v(" "),r("p",[e._v("Il est possible d'intégrer Mockito dans les tests Junit de deux façons :")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Ajouter l'annotation @RunWith(MockitoJunitRunner.class) à la classe de test :")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("@RunWith(MockitoJunitRunner.class)\npublic class MyTestClass {\n\n}\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Faire appel à la méthode initMocks dans la méthode de SetUp :")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("@Before\npublic void setUp() {\n    MockitoAnnotations.initMocks(this);\n}\n")])])])])]),e._v(" "),r("h4",{attrs:{id:"comportement-des-objets-mockes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#comportement-des-objets-mockes"}},[e._v("#")]),e._v(" Comportement des objets mockés")]),e._v(" "),r("p",[e._v("Le stubbing permet de définir le comportement des objets mockés face aux appels de méthodes sur ces objets.\nPlusieurs méthodes de stubbing sont possibles :")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Retour d’une valeur unique")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('    Mockito.when(pokemon.getName()).thenReturn("Bulbizarre"); //la chaîne de caractères Bulbizarre sera renvoyée quand la méthode getName() sera appelée.\n')])])])]),e._v(" "),r("li",[r("p",[e._v("Faire appel à la méthode d’origine")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("    Mockito.when(pokemon.getName()).thenCallRealMethod();\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Levée d’exceptions")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("    Mockito.when(pokemon.getName()).thenThrow(new RuntimeException());\n")])])]),r("p",[e._v("Il faut noter que la méthode retournera toujours la valeur stubbée, peu importe combien de fois elle est appelée .\nSi on stubb la même méthode ayant la même signature plusieurs fois, le dernier stubbing sera pris en compte.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('    Mockito.when(pokemon.getName()).ThenThrow(new RuntimeException()).ThenReturn("Carapuce");\n')])])]),r("p",[e._v('Ici le premier appel va lever une exception, tous les appels qui suivront retourneront "Carapuce".')])]),e._v(" "),r("li",[r("p",[e._v("Retours de valeurs consécutives")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('    Mockito.when(pokemon.getName()).thenReturn("Bulbizarre", "Salamèche", "Carapuce");\n')])])]),r("p",[e._v("Le premier appel retourne Bulbizarre, le deuxième retournera Salamèche le troisième Carapuce.\nTous les appels qui suivent retourneront la dernière valeur c’est à dire Carapuce.")])]),e._v(" "),r("li",[r("p",[e._v("Ne rien retourner")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("    Mockito.doNothing().when(pokemon.getName());\n")])])])])]),e._v(" "),r("h4",{attrs:{id:"injection"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#injection"}},[e._v("#")]),e._v(" Injection")]),e._v(" "),r("p",[e._v("Mockito permet également d’injecter des resources (classes nécessaires au fonctionnement de l’objet mocké), en utilisant l’annotation @InjectMock.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("    @InjectMocks\n    private TypeController typeController;\n\n    @Mock\n    private TypeRepository typeRepository;\n\n    ...\n\n    @Test\n    public void getTypeById() throws ResourceNotFoundException {\n        TypeEntity typeEntity = new TypeEntity();\n        typeEntity.setId(1L);\n\n        when(typeRepository.findById(1L)).thenReturn(java.util.Optional.of(typeEntity));\n\n        ResponseEntity<TypeEntity> returned = typeController.getTypeById(1L);\n\n        verify(typeRepository, times(1)).findById(1L);\n\n        verifyNoMoreInteractions(typeRepository);\n\n        assertEquals(typeEntity, returned.getBody());\n    }\n")])])]),r("p",[e._v("Mockito associé à Junit permet :")]),e._v(" "),r("ul",[r("li",[e._v("une écriture rapide de tests unitaires")]),e._v(" "),r("li",[e._v("de se focaliser sur le comportement de la méthode à tester en mockant les connexions aux bases de données, les appels aux web services, ...")])]),e._v(" "),r("p",[e._v("Il ne permet cependant pas de mocker :")]),e._v(" "),r("ul",[r("li",[e._v("les classes final")]),e._v(" "),r("li",[e._v("les enums")]),e._v(" "),r("li",[e._v("les méthodes final")]),e._v(" "),r("li",[e._v("les méthodes static")]),e._v(" "),r("li",[e._v("les méthodes private")]),e._v(" "),r("li",[e._v("les méthodes hashCode() et equals()")])]),e._v(" "),r("p",[e._v("Les objets mockés doivent aussi être maintenus au fur et à mesure des évolutions du code à tester.")])])}),[],!1,null,null,null);t.default=a.exports}}]);